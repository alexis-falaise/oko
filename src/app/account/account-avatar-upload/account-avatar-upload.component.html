<div class="account-avatar-upload">
  <h4 class="account-avatar-upload__title">Photo de profil</h4>
  <hr class="divider">
  <div class="account-avatar-upload__image-wrapper" *ngIf="user?.avatar && !preview">
    <app-avatar [size]="300" [image]="user?.avatar"></app-avatar>
  </div>
  <div class="d-flex justify-content-center" *ngIf="!uploadedFile; else confirmUpload">
    <button class="btn btn-success btn-icon" (click)="addFile()">
      <mat-icon>cloud_upload</mat-icon> Modifier
    </button>
  </div>
  <input type="file" #file accept="image/*" style="display: none" (change)="onFileAdded()" name="avatar">
</div>

<ng-template #confirmUpload>
  <div class="account-avatar-upload__image-wrapper" *ngIf="preview">
      <img class="account-avatar-upload__image" [src]="preview" width="300px" alt="">
  </div>
  <div class="row">
    <div class="col-8 d-flex justify-content-center">
      <button class="btn btn-success btn-icon" (click)="uploadPicture()">
        <mat-icon>cloud_upload</mat-icon> Utiliser comme nouvelle photo
      </button>
    </div>
    <div class="col-4 d-flex justify-content-center" (click)="resetFile()">
      <button class="btn btn-danger btn-icon">
        <mat-icon>clear</mat-icon> Annuler
      </button>
    </div>
  </div>
</ng-template>